\documentclass[12pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage[T1]{fontenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{tikz}
\usepackage{wrapfig}
\usepackage{caption, subcaption}
\usepackage[style=ieee, backend=bibtex, natbib=true]{biblatex}
\usepackage{standalone}
\author{Theresa Eimer}
\title{On Thue Numbers}
\date{}
\bibliography{library.bib}
\begin{document}
\renewcommand{\figurename}{Fig.}
\maketitle
\thispagestyle{empty}
\newpage
\tableofcontents
\thispagestyle{empty}
\newpage

\section{Introduction}
In 1906, Axel Thue showed the construction of an infinite word where no two adjacent parts are be the same using only three letters \citep{Thue1906}. This concept of nonrepetitiveness has since been applied to other fields, probably most successfully in graph theory. The nonrepetitiveness of graph colorings and the number of colors needed to construct nonrepetitive colorings have been a topic since Alon et. al. introduced the idea in 2002 \citep{Alon2002}. This thesis aims to give an overview over some results of the results, both in vertex- and edge-colorings. 
\newline
First, some general preliminaries in graph and complexity theory will be covered. 
\newline
Then, in the third section, the formal definition of nonrepetitiveness for graph colorings and the complexity of the corresponding decision problem will be shown. 
\newline
The fourth section is about edge-colorings, more specifically Manin's proof that the Thue Number problem is $\Pi^p_2$-complete \citep{Manin2008}. This proof will be examined in detail as it's probably the most important result for nonrepetitive edge-colorings as well as generally applicable, which isn't the case for most results specific to vertex-colorings.
\newline
Section five, therefore, is intended to be a bit of an overview over some relevant results when it comes to nonrepetitive vertex-colorings, though it certainly doesn't aim to be complete. The first part introduces two randomized algorithms, one for finding repetitive paths of a specific length and the other constructing a nonrepetitive coloring. After that, bounds for two classes of graphs that have received particular attention will be presented: planar graphs and trees. 
\newline
Finally, section six will mention other applications and variants of nonrepetitiveness and the Thue Number.
\newpage
\section{Preliminaries}
\subsection{Graph Theory}

A \textit{graph} G is defined as two, for the purpose of this thesis, finite sets V and E, representing the vertices and edges of G respectively, so that E is a subset of $ V ^ 2$, meaning that each edge from E connects two vertices from V \citep[p. 1]{Bollobas1998}. This is denoted as G = (V, E). Hereafter, any graph G will refer to an undirected and unweighted graph unless mentioned otherwise. Thus, edges can be traversed in both directions. Furthermore, all graphs will be simple graphs, not containing multi-edges (more than one edge from a vertex $v_i$ to another vertex $v_j$) or loops (edges starting from and ending at the same vertex) \citep[pp. 3-4]{Gross2013}. 
\newline
\newline
A graph G' = (V', E') is called a \textit{subgraph} of G if it's part of G, that is, if V' is a subset of V and E' is a subset of V \citep[p. 2]{Bollobas1998}.
\newline
\newline
Two vertices $v_i$ and $v_j$ are \textit{adjacent}, if there is an edge $e_k$ that connects the two. Two edges are adjacent if they share one vertex \citep[p. 1-2]{Bollobas1998}. 
\newline
\newline
A \textit{path} (sometimes called walk) in a graph is a sequence of the form 
\begin{center}
	$ W = v_0 e_0 v_1 e_1...e_{n-1} v_n $
\end{center}
where, starting from an initial vertex $v_0$, vertices and edges alternate until the final vertex $v_n$ is reached. In a simple graph, a path can also be represented by either just its vertices \citep[p. 10]{Gross2013} or edges \citep[p. 4]{Bollobas1998}. The length l of a path is the number of edges it contains \citep[p. 5]{Bollobas1998}.
\newline
\newline
For the problems in this thesis, a certain kind of path, the \textit{open path}, is especially important. Open means that no vertex is visited more than once, thus cycles on the path are not possible (see 'trail' in \citep[p. 10]{Gross2013}). An open path through every vertex is called a \textit{Hamiltonian path} \citep[p. 14]{Bollobas1998}.
\newline
\newline
The vertices and edges of Graphs can be colored. An edge-coloring of a graph G is a function that matches each edge to a color contained in C, the set of colors.  A vertex-coloring is a function matching the vertices instead of the edges to the colors in C \citep[pp. 7-8]{Gross2013}. 
\newpage
\begin{wrapfigure}{r}{4cm}
	\includestandalone{pics/clique}
	\caption{8-Clique}
\end{wrapfigure}
\par There are some special graph structures that will become important later on: the \textit{Clique} and the \textit{Hypercube}. A Clique is a subgraph of a graph G, in which every two vertices $v_i$, $v_j$ are adjacent (see figure 1).  A Clique containing k vertices is denoted as $k-Clique$ \citep[pp. 21, 111]{Gross2013}.
\newline
\newline
A Hypercube is an n-dimensional Graph (denoted n-Hypercube) that can be constructed by labeling a set of vertices of size $2^n$ with a different element of ${0, 1}^n$ each and connecting the vertices that differ in one position (see figure 2) \citep[p. 60]{Bollobas1998}. If $n > 1$, the construction of the (n+1)-Hypercube consist of essentially to n-Hypercubes being connected (see figure 3). Both for the Hypercube and Clique, the number of edges connected to a vertex is the same for all vertices, e.g. 7 for a 8-Clique or 4 for a 4-Hypercube.
\newline

\par
\begin{figure}[h]
\begin{minipage}{.3\textwidth}
	\includestandalone{pics/hypercube_small}
	\captionof{figure}{3-Hypercube}
\end{minipage}
\begin{minipage}{.5\textwidth}
	\includestandalone{pics/hypercube_big}
	\centering
	\captionsetup[figure]{oneside,margin={2cm,0cm}}
	\captionof{figure}{4-Hypercube constructed out of two 3-Hypercubes}
	 	
\end{minipage}
\end{figure}

\newpage
\subsection{Complexity Theory}

To discuss the complexity of the following problems, some background in complexity theory, specifically the \textit{Polynomial Hierarchy}, will be needed. First, however, \textit{P} and \textit{NP}, two specific complexity classes within the hierarchy will be introduced.
\newline
P and NP are similarly defined using Turing machines. P contains all problems that can be solved in polynomial time, that means all problems a Deterministic Turing Machine can decide in p(x) computational steps, p(n) being any polynomial and x the length of the input. The problems in NP can be solved in polynomial time by a Non-deterministic Turing Machine, the definition is analogous \citep{Davis1983}. An alternative way to define NP is that NP contains all problems for which the a solution can be verified in polynomial time. \citep[p. 59]{Goldreich} Its counterpart, the complexity class of coNP, contains all problems where an instance that is not a solution can be verified as such in polynomial time \citep[p. 154-155]{Goldreich}. 
\newline
The levels of the Polynomial Hierarchy contain three complexity classes each: $\Sigma^p_i, \Delta^p_i$ and $\Pi^p_i$ \citep{Meyer1972}. At level 0, that is i = 0, all three of them are equal and P: 
\begin{center}
	$\Sigma^p_0 = \Delta^p_0 = \Pi^p_0 = P $ \citep{Stockmeyer1976}
\end{center}  
The further levels are recursively defined using \textit{oracles}. If a Turing Machine can use an oracle, it means that in a single computational step, a L oracle will decide if a string on the Turing Machine's tape is contained in L. With that in mind, the definitions go as follows:
\newline
\newline
	$\Sigma^p_{i+1} = \{$ L | L is accepted by a Non-deterministic Turing Machine with a L' oracle for some L' $\epsilon \Sigma^p_i\}$
\newline
\newline
	$\Pi^p_{i+1} = \{$ L | the complement of L is accepted by a Non-deterministic Turing Machine with a L' oracle for some L' $\epsilon \Sigma^p_i\}$
\newline
\newline
	$\Delta^p_{i+1} = \{$ L | L is accepted by a Deterministic Turing Machine with a L' oracle for some L' $\epsilon \Sigma^p_i\}$
\newline 
\newline
P and NP are of course included here, $\Delta^p_1 = P$ and $\Sigma^p_1 = NP$ \citep{Meyer1972}. $\Pi^p_1 $ is called co-NP.
\newline
$\Sigma^p_i$, $\Pi^p_i$ and $\Delta^p_i$ are related in the following way:
\begin{center}
	$\Sigma^p_i \cup \Pi^p_i \subseteq \Delta^p_{i+1} \subseteq \Sigma^p_{i+1} \cap \Pi^p_{i+1}$
\end{center}
It's not yet decided if these inclusions are proper, but they give an idea of what the Polynomial Hierarchy looks like \citep{Stockmeyer1976}.
\newline
One possible way to decide which complexity class a problem belongs to, is the reduction from a problem with known complexity. Let L and Q be two languages, then Q is reducible to L if there is a function f(n) that runs in polynomial time so that for any x in Q, f(x) is in L. This is written as $Q \leq_p L$. If such a function exists, L is at least as complex as Q \citep{Davis1983}. 
\newline
Three problems that will be reduced from later on in this thesis are SAT, 3SAT and $\forall \exists 3SAT$. The later two are special cases of SAT, the boolean satisfiability problem. SAT is the language containing all boolean formulas in conjunctive normal form that are satisfiable. SAT is in NP and in fact NP-hard, meaning that every problem in NP can be reduced to SAT. Both of those attributes combined make it NP-complete. \citep[p. 338-346]{Davis1983} 3SAT is a subset of SAT with all formulas with 3 or less literals per clause and is also NP-complete. \citep[p. 347]{Davis1983} $\forall \exists 3SAT$ finally is the satisfiability problem for formulas $\varphi$ with 3 or less literals per clause that are of the form $\forall (x_1, ..., x_i) \exists (y_1, ..., y_j) \varphi(x_1, ..., x_i, y_1, ..., y_j)$. It's $\Pi^p_2$-complete \citep{Schaefer2002}.

\newpage
\section{Nonrepetitive graph colorings}
\subsection{Nonrepetitiveness}
Before talking about Thue number type problems, it makes sense to look at non-repetitiveness first, as it is the defining concept behind the  Thue number. Nonrepetitive here means square-free. This can be applied to different fields like graph theory, geometry or number theory \citep{Grytczuk2008}, but it was first introduced in the process of constructing a square-free word by Axel Thue in 1906. A word w is square-free if there is no part x of the word that occurs two times in a row. Let the words a and b each consist of three different substrings, v, x and y, then a = vxxy is not square-free, but b = vxy is \citep{Thue1906}.
\newline
In graph theory, nonrepetitiveness is relevant with respect to nonrepetitive vertex- \citep{Marx2009} and edge-colorings of graphs. A coloring e of a graph G is nonrepetitive, if there is no open path whose vertex or edge colors contain a color sequence x that is repeated two or more times in a row, similar to the definition of nonrepetitiveness for words. To put it differently: a coloring of a graph is nonrepetitive if the coloring of every possible open path on the graph is nonrepetitive \citep{Alon2002}. To give a baseline for the complexity of further problems concerning nonrepetitive graph colorings, first the complexity of determining whether a vertex- or edge coloring is nonrepetitive will be shown.
\subsection{The complexity of nonrepetitive vertex-colorings}
The problem of deciding whether a vertex-coloring of a graph G(V, E) is nonrepetitive has been proven to be coNP-complete by reducing from the Hamiltonian path problem, which is NP-complete. The idea behind Marx's and Schäfer's proof \citep{Marx2009a} is to construct a graph H from G with two parts, the second one having a path for every possible path in G that is as long a Hamiltonian path would be (n vertices with n = |E|), and the first part representing the vertices of G with a subgraph each. H is colored in such a way that a repetitively colored path would have to go through both parts with the coloring from the first path repeating itself in the second path. If a path through the second half of H, however, corresponds to a path in G that is not a Hamiltonian path but a path that visits at least one vertex more than once, the subgraph for that vertex in the first half of H would have to also be visited more than once - but that would mean that the path through the first half is not an open path. Thus H is colored nonrepetitively only if G doesn't have a Hamiltonian path. This implies that the problem of deciding if a vertex-coloring is nonrepetitive is coNP-hard.
\newline
\begin{wrapfigure}[9]{l}{3cm}
	\includestandalone{pics/k}
	\caption{A $K_{2,3}$ Graph}
\end{wrapfigure}
The construction of H goes as follows: for the first part, for every vertex $i \leq n$ (n = |E|) of G, a $K_{2, n}$ graph (fig. 4) is added. It consists of two vertices, colored a and b respectively, with n vertices between them, each connected to both the a- and b-vertex. As one vertex is added for each vertex in G, the vertices are colored $c_{i,j}$, i being the vertex in G for which the subgraph was added and j ranging from 1 to n. The b-colored vertices are now connected to  a  vertex, z, colored c, that marks the transition between the two parts of H. Lastly, to connect the different subgraphs, for every b-vertex, $d_{i,j}$-colored vertices are added. A $d_{i, j}$ vertex is connected to the b-vertex of the subgraph with the same value for i and all a-vertices for j between 1 and n where $j \neq i$.  So now all a and b vertices are connected to all other $K_{2,n}$ subgraphs of the first part of H.
\newline
\begin{figure}[h]
\begin{minipage}{0.2\linewidth}
	\includestandalone{pics/ex_1}
	\caption{\\Graph F}
\end{minipage}
\begin{minipage}{0.8\linewidth}
	\includestandalone{pics/ex_con}
	\caption{The first part of H constructed for F; \\The marked edges are connected to a $d_{i,j}$-colored vertex}
\end{minipage}
\end{figure}
\newline
 For the second part, for every combination of i and j ($1 \leq i, j \leq n$), a path containing three vertices colored a, $c_{i,j}$ and b respectively are added to H. Where j = 1, the a-colored vertex is connected to the middle vertex z. Between the b-colored vertices for j = 1 and the a-colored vertices for j = 2, $d_{i,j}$-colored vertices are added. i here is the same as in three vertex path to which the new vertex becomes connected via the b-vertex, j the number of every vertex the i-th vertex in G is connected to by an edge in E. Those d-colored vertices are then connected to the a-vertex of the three vertices path corresponding to the j value in their color. This way, the connections in G are mimicked in the structure of H. This is repeated for every j until all the three vertex subgraphs have been connected. The last step is to connect the b-vertices of the paths where j = n to a c-colored end vertex z'. 
\begin{figure}[h]
	\includestandalone{pics/ex_complete}
	\caption{The whole of H constructed for F \\ Edges connected to vertices colored $d_{i,j}$ are marked}
\end{figure}
\newpage
Now H has a first part that allows any path through the graph to be traced through the coloring, a vertex of a different color separating the two halves, and a second part whose connections are dependent on the edges of G. In the first and second path, a and b are the only non-unique colors and vertices colored a or b are never adjacent, so a repetitive path has run through both parts, that means it needs to pass the c-colored vertex z, and because of this also needs to reach the end vertex as it is the only other vertex colored with c. Thus, the only possible square path would look like this: w = QzQ'z' with Q and Q' and of course z and z' having the same coloring. To get from vertex z to vertex z', w has to pass through n vertices colored $c_{i,j}$ for some i,j, visiting the same colors in the first part of H. As all vertices colored $c_{i,j}$ with the same value for i are contained in the same subgraph of the first half of H, w can only visit one $c_{i,j}$ colored vertex for each value of i. This is only possible if G has a Hamiltonian path, because then, by construction of the second part, there is a path through the second half of H that doesn't visit any two vertices with the same value for i. The coloring of this path can simply be copied for a path through the first part. If G doesn't have a Hamiltonian path, there is no path 
through the second part of H without having to visit two different vertices with 
the same value for i, but to get the same coloring for the first part, the path \begin{wrapfigure}{l}{4cm}
	\includestandalone{pics/ex_2}
	\caption{F'}
\end{wrapfigure}
there would have to pass through one of the $K_{2,n}$ subgraphs twice, therefore it is not an open path. F is an example of a graph without a Hamiltonian path, so it will not be possible to find a path of the form w = QzQ'z', the example below from Marx's and Schäfer's paper, however, does contain a square path. The graph it's based on is F'. 
\newline
\newline
Obviously, the construction of H takes a polynomial number of steps depending on the number of vertices in G. So the reduction works, making the problem of deciding the nonrepetitiveness of a vertex-coloring coNP-hard. What's left to show is that it is also in coNP. A Turing machine can non-deterministically pick one path in a graph G' of length n and simply test every possible pattern from every vertex to see if it repeats itself. There are $\frac{n - i}{2}$ possible patterns starting from the i-th vertex that could be repeated. Going through them all would take $n \cdot \frac{n - i}{2}$ steps. Thus, a Turing machine can non-deterministically decide if the given path is a negative instance of the problem, a path that is repetitively colored, and that is precisely the definition of coNP. Thus, the problem is coNP-complete.

\subsection{The complexity of nonrepetitive edge-colorings}

The corresponding problem for edge-colorings is in the same complexity class and the proof is somewhat similar, they are however not directly related and one can't be inferred from the other \citep{Marx2009a}. The reason Manin's proof \citep{Manin2008} might seem familiar is that it's also based on the idea of a path with two parts that are colored identically to form the only possible repetitive colored path. The problem he reduces from is 3SAT, corresponding to which a graph G is constructed. G has a so called snout, a sequence of vertices and edges with the sole purpose of providing the colors for the second part to mimic. The second part of G then consist of a variable gadget for each variable that splits into a positive and negative path variant and a clause gadget for each clause. The clause gadgets are connected to the variable gadgets in the same way the variables occur in the clause; if a variable is negated, the clause gadget is connected to a vertex in the negative path of the variable gadget, if it isn't, the clause gadget is connected to the positive path. As a result, the only way to pass through the second half of G with an open path, is find an assignment satisfying the formula, traversing the variable gadgets opposite to that assignment and then the clause gadgets corresponding to it. If there is no satisfying assignment, at least one of the edges from the clause gadgets will need to pass through a vertex in the variable gadget that has already been visited. Thus a coloring in G is only repetitive if the 3SAT problem it's constructed from is satisfiable - and nonrepetitive if it isn't.
\newline
To construct H, a few numbers from the 3SAT problem f are needed. Let M be the maximum of the  number of instances of all variables, meaning the number of instances of the most common variable with x and and $\neg x$ being counted separately, n the number of variables and m the number of clauses in f. Then first, n variable gadgets with the following structure are added: each variable gadget begins with a vertex $b_i$ and then splits into a positive and negative path, both of containing M vertices. The paths are both connected to the starting vertex of the next variable gadget, $b_{i+1}$, except for the last gadget which is connected to a vertex c. Now the clause gadgets are added, one vertex for each clause in f and one vertex d. The first clause gadget is connected to c and to a vertex in every variable gadget corresponding to a variable the clause contains. If the the clause is $(x \vee y \vee \neg z)$, the clause gadget will be connected to one vertex in the positive path of x, one vertex in the positive path of y and one vertex in the negative path of z. Those vertices in turn are connected to the next clause gadget, unless there are no further clause gadgets, then they're connected to d. A vertex in the variable gadgets can't be connected to more than two clause gadgets. This is possible because the paths in the variable gadgets each have M vertices, ensuring that no variable has more instances than distinct vertices in its corresponding path. The snout is fairly simple now, it's merely a sequence of Mn+2m vertices, with every vertex $a_i$ connected to $a_{i+1}$ and $a_{Mn+2m}$ connected to the first  vertex of the first variable gadget, $b_1$. An example for $f(x, y, z) = (x \vee y) \wedge \neg x \wedge \neg y$ is given in figure 9. 
\newline
\begin{wrapfigure}{l}{9cm}
	\includestandalone{pics/ex_3}
	\caption{G constructed from $f$ \\edge gadgets are highlighted}
\end{wrapfigure}
\newline
H now is colored as follows: The path from the beginning to the end of the snout is given a sequence of distinct colors, the edge from $a_1$ to $a_2$ being colored $w_1$, the next edge being colored $w_2$ and so on until the edge to $b_1$ is colored $w_{Mn+2m+1}$. This will be the first part of the potentially repetitively colored path. Thus, the coloring of the variable gadget starts again with $w_1$, the k-th edge in variable gadget i being colored $w_{(M+1)(i-1)+k}$. \footnote{Manin actually writes it's $w_{M(i-1)+k}$, but as the variable gadgets each have M+1 edges, the last edge of gadget i will have the same color as the first edge of gadget i+1 and so every path through more than one variable gadget would be colored repetitively.} Now only the clause gadget through to vertex d are left. Starting from c, the edge between c and the first clause gadget is colored $w_{Mn}$, then the edges from the clause gadget to the variable gadgets are colored $w_{Mn+1}$ and so forth until the edges from the variable gadgets to d are colored $w_{Mn+2m+1}$. 
\newline
The construction is not yet complete, however, because for every $b_i$ with $1 \leq n$, there are paths containing the last edge of the positive path of variable gadget i-1 followed by the last edge of the negative path of variable gadget i-1. Both of course have the same color, so there would always be a very simple repetitively colored path in G. The solution here is to simulate a directed graph for the coloring by using "\textit{direction-determining colors}" \citep[p. 6]{Manin2008}. As every vertex is connected to at most 3 other vertices, the edges connected to that vertex need to have 3 different colors. So we need 3 sets of direction-determining colors. Every edge colored $w_i$ is now replaced with a path $a^j_ib^j_iw_ic^i_kd^i_k$ with i and k in {1, 2, 3}. This way, the coloring can changed so that no two edges with the same color share a vertex. The colors of the snout can be chosen to match the rest of the path, so the way the coloring works is not affected at all. These new subgraphs look like the one in figure 10.
\newline
As the direction-determining colors don't change the sequence of colors in the original coloring and can be copied by the snout to equal the coloring of any path through the variable and edge gadgets, so the coloring of the second part of H will be examined with just the original colors $w_i$. Every path's coloring through the whole second part can be matched by the snout and as the path traversing the snout from beginning to end is an open path, the variable- and edge gadgets are the deciding factor. Each variable gadget has to be traversed in order to get to the edge gadgets and ultimately to the vertex d. Because of that, one path of each variable gadget can't be visited again by any edges from clause gadgets. To put it differently, for each variable, every open path from c to d can only visit either the positive or the negative path of each variable gadget. This means that the assignment for all variables are the same in every edge gadget. If there is a path like this actually connecting $b_1$ to d, it must be a satisfying assignment for f, because the clause gadgets are only connected to the paths in the variable gadgets satisfying them. If f is not satisfiable, at least two clauses would require each a different variable assignment, which reflects in H two edges from clause gadgets to different parts of the same variable gadget both needing to be traversed - and thus forming a path that is no longer open. A square path can have no different form: limiting the path to the snout doesn't work because every edge there has a different color, limiting the path to the variable gadgets doesn't work because with the direction determining colors in mind, they can only be traversed in one direction and again, the colors in the variable gadgets won't repeat themselves. The problem remains when using only the edge gadgets or combining edge and variable gadgets. Just the snout and variable gadgets also can't form a square path, as the colors in the variable gadgets are at the beginning of the snout and to reach the variable gadgets, all the colors in the edge gadgets would be traversed first. Thus, there is no other possible square path than the one through all three elements of H. So H contains a square path only if f is satisfiable.
\newline
Again, the construction of G only takes a polynomial number of steps, therefore the reduction proofs that the problem of deciding the nonrepetitiveness of an edge-coloring is coNP-hard. The reasoning why it's also in coNP is the same as for the vertex-coloring problem, so this problem is also coNP-complete.

\newpage

\section{Thue Numbers for graphs}
\subsection{The Thue number and Thue chromatic Number}

In general, the Thue Number in respect to any sequence of elements is the minimum number of elements needed to make that sequence nonrepetitive. For words, this number is three \citep{Thue1906}. For graph colorings, it's not as easy as to name a single number, as a coloring always refers to one specific graph. So every graph has a its own Thue Number: the least number of colors needed to color the graph nonrepetitively \citep{Alon2002}. The problem explicitly named Thue Number, however, refers to only edge-colorings, the counterpart for vertex-colorings being Thue Chromatic Number \citep{Schaefer2002}. In both cases, the problem is rather hard to solve. Manin proofed Thue Number to be $\Sigma^p_2$-complete \citep{Manin2008}, which will be examined in the following section. The complexity of Thue Chromatic Number is still an open problem \citep{Schaefer2002}. The Thue Number of a graph is called $\pi$(G) and the Thue chromatic number $\sigma$(G).

\subsection{Constructing the graph for Manin's proof}
\subsubsection{Structure}

The proof of complexity for $\pi$(G) in this section is a continuation from the one for the complexity of deciding the nonrepetitiveness of an edge-coloring of a graph. The key difference is the number of colors as an added factor. The task at hand is not just to prove that the graph H that will be constructed for the proof has a repetitive coloring only under a certain condition, but that also that this coloring consists of a fixed number of colors. 
The structure of H is similar to the one in section 3.3, in fact the graph from there can be extended to H. The problem reduced from here is $\forall \exists 3SAT$ instead of 3SAT, so the first step in this extension would of course be to differentiate between the universally and existentially quantified variables. This is rather easy, the first edge in every variable gadget's path corresponding to an universally quantified variable is colored $w^1_i$ in the positive path and $w^0_i$ in the negative path, keeping the original color $w_i$ but forcing any repetitively colored path to take a specific path through the variable gadget depending on whether $w^1_i$ or $w^0_i$ is used in the snout. This graph will be referred to as G.
\newline
Then, various subgraphs, new gadgets, are added to G to form H, making the overall structure more complex and introducing the idea of bottlenecks, the places where nonrepetitively colored subgraphs are connected. Those are especially important, of course. The exact structure and coloring of the different gadgets will be covered in the next section, first the rules of when and where they're added will be given. Let n be the number of universally quantified variables, u the number of existentially quantified variables and c the number of colors used to color G. Further, let l be the smallest integer to fulfill the inequality $2^l \geq c + u + 1$ and m = 4l +3. H will be colored with $2^m +6$ colors. This is a lot of colors and should give an indication as to how complex H will be in the end.
\newline
The gadgets that will now be added are called C-, N-, P- and Q-gadgets plus 7-Hypercubes that have no special name. Any two opposing vertices of the 7-Hypercubes, however, are called edge-gadget vertices, with the vertex closer to the tip of the snout called $v_0$ and the other one called $v_1$. The central vertex of the first two layers of a 7-Hypercube is called the plume. The C-, N- and P-gadgets are closely related, they each replace an edge colored $w^j_i$. For the i-th universally quantified variable, the $w^j_i$-colored edge in the snout becomes a C-gadget (called $C^i$), the edge in the negative path of the variable gadget a N-gadget (or $N^i$) and the edge in the positive path of the variable gadget a P-gadget ($P^i$). As the gadgets have vertices on both ends, they are connected to the preexisting neighboring vertices with edges colored $w^I_i$ before $C^i$, $N^i$ and $P^i$ and $w^F_i$ after. All three gadgets each have a $v_0$ and a $v_1$ edge-gadget vertex like the 7-Hypercube does. The C- and N-gadget additionally have a central vertex u and the P-gadget has a plume. For every edge not carrying a true or false assignment in the coloring (so every edge that hasn't been replaced in the last step), a 7-Hypercube is added. Lastly, the Q- or consistency gadgets: they are $2^m$-cliques and one is added for each universally quantified variable (called $Q^{X_i}$ for the i-th variable) and each color that is not associated with a universally quantified variable, every color but $w^0_i$ and $w^1_i$. They are used to connect all the other gadgets, as all of their vertices are merged with either edge-gadget vertices, plume vertices or the u vertices of C- and N-gadgets. The u vertex of $C^i$ and $N^i$ respectively becomes each one vertex of $Q^{X_i}$. Two vertices of $P^i$ are merged with each one vertex of $Q^{X_i}$, one with distance three (called $u_0$) and the other with distance four (called $u_1$) from $v_0$. The beginning and end vertices, $v_0$ and $v_1$, of the C- and N-gadgets won't be part of the consistency gadgets but they're connected to other edge gadget vertices.
\newline
Now H has become quite big, with a lot of 7-Hypercubes added and them being heavily connected by the consistency gadgets. The gadgets added for universally quantified variables are the only points in the original graph G that are also connected to this structure of Hypercubes. Before describing a coloring for these rather complex connections, the structure of the gadgets themselves will be shown and they will be colored nonrepetitively. 
  
\subsubsection{Subgraphs}

C-, N-, P-Gadgets and 7-Hypercubes
All of the gadgets used, except for the consistency gadgets, are based on Hypercubes but the C-, N- and P-gadgets have been modified. The C- and N-gadgets are each a sequence of Hypercubes connected to form one structure. The C-gadget (fig.) is made up of a 2-Hypercube, two single vertices that can be viewed as a 1-Hypercube each and a 3-Hypercube. Some vertices have added edges that would not exist in a normal Hypercube. Their purpose is to elevate the degree of these vertices. The N-gadget is somewhat similar, but consist of a 3-Hypercube connected to a 4-Hypercube (fig.). The P-gadget is a 7-Hypercube will several modifications. First, its dimensions are labeled: the dimensions a, b and ab cover the distance from the vertex $u_0$ to $v_0$. The dimensions c, d, ac and ad then span the distance between the vertex $u_0$ and the vertex $v_1$ as they have been defined above. The edges from $v_1$ in the dimensions c, d, ac and ad are removed. Then, two groups of vertices, $u_{-1}$ and $u_{-2}$ are defined. In  $u_{-1}$ are all vertices that can be reached from $u_0$ by traversing the dimensions a, c and ac in this order, in $u_{-2}$ all vertices that can be reached from $u_0$ by going through dimensions a, d and ad in this order. To every vertex in $u_{-1}$ and $u_{-2}$, $2^m-2$ edges are added and from vertices c and d, all edges to b are removed if the vertices are in $u_{-1}$ or $u_{-2}$. Parts of the P-gadget now looks still like a normal Hypercube, but a few dimensions have been altered. 
\newline
This Hypercube part of the P-gadget, as well as the C- and N-gadgets can be colored nonrepetitively by exactly seven colors each. The reason for this is that they're all based on Hypercubes and that an n-Hypercube can be colored nonrepetitively with n colors. The 7-Hypercubes and the P-gadgets' Hypercube portion are of course 7-Hypercubes. The C- and N-gadget consist of smaller Hypercubes whose dimensions add up to seven. Coloring them works in the following way: Hypercubes can be imagined as square or diamond like structures stacked upon and connected to each other, with each diamond connected to $n-2$ dimensions (every one except the two it's already in). Each of these diamonds will be colored with the same two colors. What's left are the connections between the diamonds and the other dimensions. The edges to different dimensions from each diamond have $n-2$ distinct colors, one for every dimension. Every path containing a square path would have to contain an even number of edges from every dimension it passed. The vertices in a Hypercube, however, are connected to exactly one vertex of each dimension, the one that differs in exactly one place from its own labeling. With each change to or from dimension i meaning a change in the i-th place of the vertex labels, passing through dimension i an even number of times ends with the i-th place being changed from 0 to 1 or 1 to 0 an even number of times - so i-th place in the labeling is the same for the starting and end vertex. As the square portion of a square path must run through every dimension it visited an even number of times, the starting and end vertex must have the same labeling, thus forming a circle. 
\newline
To color the C- and N-gadgets, this technique is used with distinct sets of colors for all their different parts. The consistency gadgets, as they're Cliques, each need a lot more colors, $2^m-1$ as shown in \citep{Alon2002}.

\subsection{Coloring H}

The problem with coloring H is that the number of colors that can be used is fixed. $2^m+6$ colors aren't exactly a lot seeing that each each consistency gadget is a $2^m$-Clique. The question now is how the colors can be distributed: can the color set Z of one of the 7-Hypercubes or gadgets contain colors from the color set G* coloring the Clique it's connected to? If not, all consistency gadgets have to be colored with the same color set G* and the seven colors that are left make up Z for every other gadget and Hypercube. This actually the easiest possible outcome for trying to show later on whether a coloring of H is nonrepetitive because in every other case the number of possible colorings would be much higher. In fact, H is constructed such a way that the consistency gadgets and the rest of the added subgraphs have distinct color sets to make the reduction easier. To show this, every subgraph has to be examined individually. The Hypercubes are a good starting point because they're independent from the rest of the gadgets. The color of an edge e in a coloring will be denoted as C(e). 
\newline
First, recall how Hypercubes are connected to consistency gadgets: the two vertices $u_0$ and $u_1$ as well as the plumes form the vertices of the consistency gadgets. Let $u$, $v$ and $w$ be vertices of a consistency gadget $Q$ and $w$ also be a plume vertex. If an edge in the Hypercube adjacent to $w$ is colored the same way as the edge from $u$ to $v$, the edge in the Hypercube colored $uv$, the edge from $w$ to $u$ colored $uw$, the edge from $u$ to $v$ and the edge from $v$ colored $uw$, as every vertex in Q has an adjacent edge for every color coloring Q, form a square path. So the first two layers of a Hypercube have to be colored with the colors from Z. The same applies for all edges connected to either $u_0$ or $u_1$. For edges with a distance of two and three from $u_i$, the same argument can be made, the square path simply starts one or two edges further into the Hypercube and continues for one or two edges more after passing $v$. Of course this could be continued, but the more interesting question about edges of distance four from $u_i$ is whether the coloring around the $u_i$ matches. The vertices $u_0$ and $u_1$ have been selected in such a way, that there is no edge with a distance greater than four from the closer one. Let the vertex $x$ be separated from $u_0$ by a path colored $c_1c_2c_3$ and $y$ by a path colored $c_1c_2c_4$. Then $e_4$ is an edge connected to $x$ and $e_3$ an edge connected to $y$. These edges are adjacent. $e_3$ and $e_4$ have a distance of 4 from $u_0$, all the edges closer to $u_0$ are colored according to what was described in 4.2. If the colors of $e_3$ and $e_4$ are both in G*, so C($e_3$), C($e_4$) $\epsilon$ G*, there is a square path starting in the consistency gadget with two edges colored C($e_3$) and C($e_4$) until it reaches $u_0$. It continues via a $c_1c_2$ colored path to $e_3$ and from there $e_4$. From $e_4$, $c_1c_2$ can be repeated again, completing the square path. If C($e_3$) $\epsilon$ G* and C($e_4$) $\epsilon$ Z, the square path would now look like this: C($e_3$) from the consistency gadget, $c_1c_2e_3c_1c_2$. For C($e_4$) $\epsilon$ G* and C($e_3$) $\epsilon$ Z, the path is analogous. Therefore, C($e_3$) and C($e_4$) both have to be in Z. This can be shown in the same way for $u_1$, so the whole Hypercube has to be colored with the seven colors of Z. 
\newline
The P-gadget's structure is similar to that of a 7-Hypercube, save for the removed edges, so for the most part, the same arguments apply. The removed edges have at distance of at least 3 from $u_0$ and 4 from $u_1$, so below these distances, the coloring of the P-gadgets has to correspond to the coloring of the Hypercubes. For edges with a distance of 3 from $u_0$ and 4 from $u_1$, the arguments from above can still be used since none of the removed edges share a vertex, so the P-gadgets have to be colored with Z. This translates very easily to the C- and N-gadgets as they're connected to the consistency gadgets by a very central vertex u from which the distance of every edge, except the ones connected to $v_1$, is 3, so all these edge colors need to be from Z.

\subsection{Showing the nonrepetitiveness}

As the colors of the original graph G stayed the same and there is a path through each $C^i$ that can be matched by either $N^i$ or $P^i$, if $f$ is satisfiable, the square path from the tip of the snout to d exists just like it did in G. The more difficult question here is whether it's the only square path.

\newpage	
\section{The Thue chromatic number}
\subsection{Algorithms for vertex-colorings}

Even though the complexity of the Thue chromatic number is still an open problem, some restricted versions have been found to have an upper bound. A relatively simple restriction is to limit the length of a possible square path. For any graph G(V, E) and a given path length 2k, checking G for a square path of length 2k takes $k^{O(k)} \cdot |V|^5 log |V|$ \citep{Marx2009}. This number is based on a randomized algorithm developed to find such paths. The first part, $k^{O(k)}$, represents the number of times the randomized part of the algorithm has to "guess" repetitive paths, that is to assign a label from {1, ..., 2k} to each vertex of G, until it succeeds. The probability for the assignment to be correct is $\frac{1}{2k^{2k}}$, so after trying $2k^{2k}$ assignments, every square path will have been found, leading to a duration of $k^{O(k)}$ for this part. The actual checking of the assignment happens in a directed graph D(U, A) constructed from G, that has directed path with a length of k vertices only if G has a repetitive path of 2k vertices. The vertices of D are a subset of V x V, D has at most $|V|^2$ vertices. D is constructed to be acyclic, so its longest directed path can be found in O(|A|). As D has at most $|V|^2$ vertices, correspondingly it has at most $|V|^4$ edges, so finding the longest path can be done in $|V|^4$. As this has to be done for every possible ending point of the path, so every vertex in V, the resulting time limit is $|V|^5$. The last part, $log |V|$, is the running time of the derandomization of the algorithm. 
\newline
A special case of bounded-length paths are so called \textit{star-free} colorings. A coloring is star-free if there are no repetitive paths of length 4 or less. This problem has been proven to be NP-complete \citep{Coleman1984}.
\newline
An algorithm for constructing nonrepetitive colorings rather than finding repetitive ones was described in \citep{Haeupler2010}. It's an application of the asymmetrical Lovász local lemma which can be used to prove the existence of combinatorial structures. More specifically, it says that for some set of mutually independent variables $P = {P_1, P_2, ..., P_n}$, some set of undesirable or "bad" events $A = {A_1, A_2, ..., A_n}$ and any event $B$, with both $A$ and $B$ determined by a subset of $P$, there exists an assignment of probabilities to $P$ so that the probability for a desirable event is positive if for every element of $A$, its probability is smaller or equal to the product of its probability with the counter probabilities of all events B that are disjoint from it. Applied to nonrepetitive graph colorings, bad events would the existence of repetitive paths, so the probability for such a bad event A for a path P of length $2i$ with $i \geq 1$ to be repetitively colored is $\frac{1}{C^i}$, C being the amount of colors that can be used. As a $2i$ path can intersect a lot of other paths ($4ij\Delta^{2j}$ paths of length $2j$), A shares variables with just as many other events. Using the correct assignment of probabilities and $(2e^{16}+1)\Delta^2$, the condition is fulfilled. That means there is a nonrepetitive coloring or, to put it differently, the probability of no bad events occurring is greater than zero. If the condition also holds for a fixed "slack" $\epsilon$, so that $PR[A_i] \leq x(A_i) \Pi_{B \epsilon \Gamma(A_i)} (1-x(B))$, a Monte Carlo algorithm, a kind of randomized algorithm that may return an incorrect result with some probability, can be used to find one of these good assignments. As the condition depends on the number of colors used, increasing it is the simple solution. The algorithm works similarly to the one above, sampling a coloring and then verifying if any events in $A$ occur. The number of resamplings is in $O(\frac{n}{\epsilon^2}log\frac{n}{\epsilon^2})$, $\epsilon$ being the constant from before and n the size of the input, so the number of vertices in the graph in question, in this case. Again similarly to above, breadth-first-search though the graph is used to check whether any paths are colored nonrepetitively. The runtime to find a nonrepetitive vertex-coloring for a graph G with maximum degree $\Delta$ with $c\Delta^{2+\epsilon}$ colors is therefore in $O(|V|+|E|)$ for the search plus $O(\frac{|V|}{\epsilon^2}log\frac{|V|}{\epsilon^2})$ because of the number of samplings that might be needed. The failure probability of the algorithm is also important, of course: it's an inverse polynomial of the size of G that is arbitrarily small. As the algorithm and the theories behind it are relatively complex, this is only meant to be a short insight and is definitely not complete.

\subsection{Planar graphs}

A different way to make the problem more manageable, is to look at specific graphs or subgraphs. One type of graph especially interesting is the planar graph. A graph G is planar if its realization is homeomorphic to $R^2$. Realization means all vertices of G are represented by distinct points in $R^3$ and connected to each other by straight lines corresponding to the edges of G. If this realization lies in a single plane, the graph is planar \citep[p. 21]{Bollobas1998}. For such graphs, a lower bound of $\sigma(G) \leq 11$ and an upper bound of $\sigma(G) \geq O(log(n))$ are known \citep{Dujmovic2012}. If G is an outerplanar graph, so if it can be drawn so that all vertices are on the boundary of a face, one of the regions G separates the plane into, \citep[p. 36]{Bollobas1998}, $\sigma$(G) is known to be at most 12 \citep{Barat2007}. Even if G is not an outerplanar graph, there is an upper bound for so called facial nonrepetitive colorings, meaning that every path on the boundary of a face is colored nonrepetitively. For planar graphs, the upper bound is 24 colors \citep{Barat2013} and 16 for hamiltonian planar graphs \citep{Harant2011}. 

\subsection{Trees}

Trees are another class of graphs for which good bounds on the Thue chromatic number exist. In fact, \citep{Bresar2007} proved that every three is nonrepetitively colorable by 4 colors. For smaller trees, specifically those with a degree of four or less, this bound is at most three. The degree $rad(T)$ of a tree T is the maximum distance a vertex $u$ has to any other vertex. The condition of the maximum distance being four also limits the maximum number of levels to five. Coloring the vertices according to their distance from the root with $c \epsilon {0, 1, 2}$ and $c_0 = c_3$ as well as $c_1 = c_4$ will result in a vertex-coloring that is nonrepetitive \citep{Bresar2007}. As the maximum distance from any vertex is at most four, no open path can be longer than five vertices. A square path would have to either visit two vertices of the same distance from the root directly following one another, visit a vertex of distance zero or one and then one of distance three or four, respectively, or have length four. The two former possibilities can be excluded as they contradict the structure of trees. So are square paths of length four possible? Such a path $p$ would have the structure $p=c_ic_jc_ic_j$, as two vertices of the same color can't follow each other. This can't work either, though, as $p$ starts at level $i$ (or $i+2$), then proceeds to level $j$ (or $j+2$, respectively) an now needs to connect to another vertex of either level $i$ or $i+2$. It' only possible for $p$ to visit the level it hasn't started on to avoid visiting a vertex twice, so it has now moved through three levels. That means it contains $c_2$ either as first color (in this case it would have visited vertex one again for vertex three) or the second color, which would mean that now the path would have to go back to the second vertex as $c_2$ is only present in level two. Therefore a square path of length four can't exist and the coloring is nonrepetitive.
\newline
Even if $T$ has a degree greater than four, it at least has a subgraph which can be colored nonrepetitively with three colors \citep{Bresar2007}.

\newpage
\section{Other Thue type problems}
As mentioned before, graph colorings are not the only are in which the concept of nonrepetitiveness can be applied. An example of this is the real line: a coloring of the real line is nonrepetitive if there are no adjacent intervals that are colored the same. For this, only two colors are needed. One possibility to color the real line nonrepetitively is to color all points x for which $ln|x|$ is rational with one color and every other point with the other color\citep{Grytczuk2008}. 
\newline
*Prime factors
\newline
*Anagrams
\newline
*Pattern avoidance
\newline
*Thue choosability

\newpage
\section{Conclusion}

Every graph G has a subdivision H with $\pi$(H) <= 4 \citep{Barat2008}
Generalization of Thue?


\newpage
\printbibliography
\end{document}